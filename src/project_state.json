{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 9,
  "summary": "Encoreats app includes built-in usage analytics and a pro admin dashboard (/admin) plus role-based access for consumer, musician, and venue, and now needs a nightlife-themed (Cyber‑Noir) UI/UX refresh starting with a redesigned dark-mode Landing Page hero section and supporting image assets.",
  "architectural_notes": [
    "Implement in-app analytics without third-party services; track/store usage metrics in backend and expose them to a password-gated /admin dashboard.",
    "Adopt a dark-mode-only 'Cyber‑Noir Luxury' design system (Deep Navy/Charcoal backgrounds, purple→pink gradient primary CTA, electric teal for money/success, glassmorphism + glow effects, Poppins headings + Inter/DM Sans body)."
  ],
  "known_issues": [
    "Automated build/implementation of the requested pro admin dashboard failed multiple times; may need simplification or re-scoping to succeed.",
    "App is very slow to load (performance issue reported by user); investigate initial load time and rendering/network bottlenecks."
  ],
  "isFixRequest": false,
  "imageRequirements": "## Required Images\n- Neon gradient logo on dark background, stylized “E” or sound wave combined with a location pin (logo_full_dark_mode.png.dim_1024x1024.png)\n- Neon favicon mark matching the logo style, simplified for small sizes (favicon_neon.png.dim_256x256.png)\n- High-resolution dark-toned photo of a live jazz band performing, warm venue lighting, crowd energy (hero_jazz_band_bg.dim_2400x1350.jpg)\n- Dark sleek musician avatar silhouette with headphones or guitar (placeholder_musician_avatar.dim_512x512.png)\n- Generic venue cover image: clinking glasses or stage lights, dark nightlife feel (placeholder_venue_cover.dim_1600x900.jpg)\n- Wallet icon with neon/glow styling suitable for dark UI (icon_wallet_glow.dim_256x256.png)\n- Calendar icon with neon/glow styling suitable for dark UI (icon_calendar_glow.dim_256x256.png)",
  "existing_features": [
    {
      "id": "feature-add-frontend-tracking-that-automatically-records-usage-events-to-the-backend-record-a-session-start-when-an-authenticated-user-enters-the-app-and-record-page-view-or-equivalent-for-the-currently-rendered-screen-ensure-the-tracking-calls-do-not-block-ui-rendering-and-gracefully-no-op-when-the-actor-identity-is-unavailable",
      "title": "Add frontend tracking that automatically records usage events to the backend: record a `session_start` when an authenticated user enters the app and record `page_view` (or equivalent) for the currently rendered screen. Ensure the tracking calls do not block UI rendering and gracefully no-op when the actor/identity is unavailable.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-simplified-admin-admin-dashboard-ui-page-new-react-page-component-under-frontend-src-pages-that-shows-total-unique-users-total-sessions-daily-active-users-trend-last-n-days-and-a-scrollable-recent-activity-log-table-use-existing-shadcn-ui-components-and-tailwind-styling-consistent-with-the-app",
      "title": "Create a simplified `/admin` admin dashboard UI page (new React page component under `frontend/src/pages/`) that shows: total unique users, total sessions, daily active users trend (last N days), and a scrollable recent activity log table. Use existing shadcn UI components and Tailwind styling consistent with the app.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-add-navigation-entry-to-the-admin-dashboard-without-introducing-a-full-routing-framework-implement-minimal-path-based-rendering-so-that-visiting-admin-renders-the-admin-dashboard-instead-of-the-role-dashboard-if-the-current-user-is-not-an-admin-show-an-access-denied-screen-for-admin",
      "title": "Add navigation/entry to the admin dashboard without introducing a full routing framework: implement minimal path-based rendering so that visiting `/admin` renders the admin dashboard instead of the role dashboard. If the current user is not an admin, show an 'Access denied' screen for `/admin`.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-hooks-in-frontend-src-hooks-usequeries-ts-or-a-new-hooks-file-if-needed-to-call-the-new-backend-analytics-endpoints-1-fetch-admin-analytics-summary-2-fetch-daily-active-trend-3-fetch-paginated-logs-and-4-record-tracking-events",
      "title": "Add React Query hooks in `frontend/src/hooks/useQueries.ts` (or a new hooks file if needed) to call the new backend analytics endpoints: (1) fetch admin analytics summary, (2) fetch daily active trend, (3) fetch paginated logs, and (4) record tracking events.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-explicit-role-selection-step-to-the-login-experience-so-a-user-can-choose-to-continue-as-venue-musician-or-customer-before-authenticating-and-ensure-the-selected-role-is-carried-into-profile-creation",
      "title": "Add an explicit role selection step to the login experience so a user can choose to continue as \"Venue\", \"Musician\", or \"Customer\" before authenticating, and ensure the selected role is carried into profile creation.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-landing-page-call-to-action-buttons-to-provide-three-distinct-continue-as-join-as-login-options-venue-musician-customer-while-continuing-to-use-internet-identity-for-authentication",
      "title": "Update the Landing page call-to-action buttons to provide three distinct \"Continue as\" / \"Join as\" login options (Venue, Musician, Customer) while continuing to use Internet Identity for authentication.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-redesign-the-landing-page-hero-section-to-a-dark-mode-cyber-noir-luxury-look-using-a-full-bleed-background-image-of-a-live-jazz-band-with-a-60-black-overlay-so-white-hero-text-remains-legible-and-include-a-primary-neon-purple-to-pink-gradient-cta-button-labeled-book-now",
      "title": "Redesign the Landing Page hero section to a Dark Mode “Cyber‑Noir Luxury” look using a full-bleed background image of a live jazz band with a 60% black overlay so white hero text remains legible, and include a primary neon purple-to-pink gradient CTA button labeled “Book Now”.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-add-required-nightlife-brand-image-assets-as-static-files-under-frontend-public-assets-generated-and-wire-them-into-the-ui-where-applicable-on-the-landing-page-header-branding-favicon-without-routing-images-through-the-backend",
      "title": "Add required nightlife brand image assets as static files under frontend/public/assets/generated and wire them into the UI where applicable on the Landing Page (header branding + favicon) without routing images through the backend.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-cyber-noir-ui-styling-tokens-on-the-landing-page-hero-deep-navy-charcoal-background-white-headings-slate-body-text-neon-purple-gradient-primary-action-subtle-glow-consistent-with-the-user-provided-design-system-without-switching-to-pure-black-000000",
      "title": "Implement Cyber‑Noir UI styling tokens on the Landing Page hero (deep navy/charcoal background, white headings, slate body text, neon purple gradient primary action, subtle glow) consistent with the user-provided design system, without switching to pure black (#000000).",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Add built-in usage analytics (unique users, sessions, daily active users, last active timestamps) stored in backend",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Create a pro admin dashboard (/admin) with password-gated access showing charts/graphs, daily usage trends, and logs for app usage",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Add built-in usage analytics storage and APIs in `backend/main.mo` to track app usage without third-party services. At minimum, store: (a) total unique users (principals), (b) total sessions, (c) per-day active users counts for the last N days, and (d) last-active timestamp per user.",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Implement an append-only usage log in `backend/main.mo` and a query API that returns a paginated slice of recent events for display in the admin dashboard. Each event must include timestamp, caller principal, and a simple event type (e.g., session_start, page_view).",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Add admin-only backend APIs in `backend/main.mo` to fetch the aggregated analytics summary and trends needed by the dashboard, and enforce access control using the existing authorization system (only admin principals can access admin analytics/log endpoints).",
      "reqIds": [
        "REQ-3"
      ],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Add a login flow option to choose role (consumer, musician, venue) during/after authentication so users can enter the correct dashboard.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Add a complete frontend automated testing suite (/tests folder) for the app using Jest + React Testing Library, covering role-based login, routing, dashboards, and analytics tracking hooks.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Create a complete repository-root `/tests` folder containing a working automated frontend test suite for the existing React app, using Jest + React Testing Library, with test files covering: LandingPage role-based login buttons, App authentication gating, App minimal path-based routing for `/admin` (admin vs non-admin), role-based dashboard rendering (venue/musician/customer), ProfileSetup rendering for authenticated users without a profile, and usage tracking behavior (page_view on mount when authenticated, session_start once per session).",
      "reqIds": [
        "REQ-10"
      ],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Add test harness utilities inside `/tests` to make component tests deterministic: a shared render helper that wraps components with required providers (e.g., React Query provider), plus module mocks for Internet Identity and backend-query hooks so tests can simulate authentication states, admin state, and backend data without editing the immutable hook source files.",
      "reqIds": [
        "REQ-11"
      ],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Include a minimal, developer-friendly testing README inside `/tests` that explains how to run the test suite locally and what the suite covers, using English for all user-facing text.",
      "reqIds": [
        "REQ-12"
      ],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Create/introduce new brand image assets (dark-mode neon logo + favicon, hero background, default musician avatar + venue cover placeholders, and glowing active-state icons) for a premium nightlife feel.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Redesign the Landing Page to a Dark Mode 'Cyber‑Noir Luxury' style, starting with a new Hero section (headline + neon purple 'Book Now' button) using a live jazz band background image with dark overlay; add elements like 'Live Gigs Tonight' ticker and 'Trending Artists' carousel.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Apply Cyber‑Noir UI/UX refresh to the /admin dashboard using glassmorphism cards and add new widgets ('Live Pulse' gigs counter, 'Escrow Vault' total funds display).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Redesign the Musician 'Gig Wallet' to emphasize trust with distinct locked vs available funds visual states (padlock/dimmed vs neon/available).",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "projectName": "Encoreats",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}